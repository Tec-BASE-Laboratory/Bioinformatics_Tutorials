# ğŸ‘©â€ğŸ’» Actividad
## ConfiguraciÃ³n Computadora (Bioconda) ğŸ
**Prof. Gerardo Javier Alanis Funes - 13 de marzo de 2020**
-----
## ğŸ’¡ Tabla de contenido

- [ğŸ‘©â€ğŸ’» Actividad](#-actividad)
  - [ConfiguraciÃ³n Computadora (Bioconda) ğŸ](#configuraciÃ³n-computadora-bioconda-)
  - [**Prof. Gerardo Javier Alanis Funes - 13 de marzo de 2020**](#prof-gerardo-javier-alanis-funes---13-de-marzo-de-2020)
  - [ğŸ’¡ Tabla de contenido](#-tabla-de-contenido)
  - [ğŸ’»Â¿CÃ³mo configurar tu computadora?](#cÃ³mo-configurar-tu-computadora)
  - [ğŸ”‹ Pasos a realizar](#-pasos-a-realizar)
  - [1.- Preparar tu computadora](#1--preparar-tu-computadora)
    - [ğŸ Configurar computadora Mac OS](#-configurar-computadora-mac-os)
    - [Cambia el shell a BASH](#cambia-el-shell-a-bash)
    - [Â¿QuÃ© otro software de Apple Store se necesita?](#quÃ©-otro-software-de-apple-store-se-necesita)
    - [Homebrew](#homebrew)
    - [java](#java)
    - [ğŸŒŠ Configurar computadora con Windows 10](#-configurar-computadora-con-windows-10)
    - [Instalar Ubuntu Linux on Windows](#instalar-ubuntu-linux-on-windows)
    - [Ejecutar Ubuntu Linux](#ejecutar-ubuntu-linux)
    - [Java](#java-1)
    - [ğŸ§ConfiguraciÃ³n en una computadora Linux](#configuraciÃ³n-en-una-computadora-linux)
  - [2. Instalar conda y activarlo](#2-instalar-conda-y-activarlo)
    - [Entornos (Environments)](#entornos-environments)
    - [InstalaciÃ³n de Conda](#instalaciÃ³n-de-conda)
    - [Instalar bioconda](#instalar-bioconda)
    - [Crear un entorno bioinformÃ¡tico](#crear-un-entorno-bioinformÃ¡tico)
- [Referencias ğŸ“š](#referencias-)



---
<br>

## ğŸ’»Â¿CÃ³mo configurar tu computadora?

La **prÃ¡ctica de la bioinformÃ¡tica** requiere de la instalaciÃ³n de herramientas de software
distribuidas en varios formatos:
1. CÃ³digo binario "ejecutable" quÃ© se puede ejecutar directamente en la
computadora de destino.
2. "CÃ³digo fuente" que necesita ser "compilado" para crear un programa "binario".
3. Programas que requieren la presencia de otro lenguaje de programaciÃ³n: **java, python, R o Perl.**           
<br>


## ğŸ”‹ Pasos a realizar

Sigue cada uno de los pasos a continuaciÃ³n. Es posible que se deban visitar sitios de
internet, pero despuÃ©s de visitarlos debes de continuar con los pasos de esta actividad.
1. Preparar tu computadora.
2. Instalar conda y activar bioconda.
<br>
<br>

## 1.- Preparar tu computadora

Antes de instalar el software de bioinformÃ¡tica, debes preparar tu computadora para las tareas futuras.Hay instrucciones separadas para computadoras MacOS,Linux y Windows. Sigue solo las instrucciones para tu plataforma.

DeberÃ¡s seguir varios pasos, los procesos pueden llevar algÃºn tiempo, posiblemente horas. AsegÃºrese de completar la configuraciÃ³n del sistema antes de continuar:
<br>
<br>

----------------------------------------------------------------

### ğŸ Configurar computadora Mac OS

En primer lugar, asegÃºrese de que su Mac ejecute la Ãºltima versiÃ³n de MacOS. Ve a:
<br>
>â€œÃcono Apple" -> "Acerca de esta Mac" -> â€œActualizaciÃ³n de Software"

Verifica que tu Mac estÃ© actualizada a la Ãºltima versiÃ³n de MacOS.

<br>

### Cambia el shell a BASH

A partir de Mac OSX versiÃ³n 10.14, el shell predeterminado se ha cambiado a zsh.

Todas nuestras instrucciones usan el shell bash, por lo que tambiÃ©n necesitarÃ¡ configurar Mac OSX para usar bash de manera predeterminada. Para hacer esto escribe lo siguiente en una terminal:

```bash
chsh -s /bin/bash
```

Te pedirÃ¡ su contraseÃ±a y luego establecerÃ¡ el shell predeterminado.

<br>

### Â¿QuÃ© otro software de Apple Store se necesita?

Un compilador es un software que convierte un programa basado en "texto" en uno que la computadora puede ejecutar. DeberÃ¡ instalar el compilador "XCode". Vaya a la "App Store" y busque la aplicaciÃ³n "XCode". InstÃ¡lalo, es un programa gratuito.

TambiÃ©n se necesitarÃ¡ instalar las herramientas de lÃ­nea de comandos adicionales en XCode abriendo la aplicaciÃ³n "Terminal" y luego escribiendo lo siguiente en ella:

```bash
xcode-select --install
```

Esto activarÃ¡ un procedimiento de instalaciÃ³n.

Es posible que ocasionalmente deba volver a iniciar la aplicaciÃ³n XCode cada vez que cambie el acuerdo de licencia creado por Apple.

La actualizaciÃ³n automÃ¡tica del software tambiÃ©n actualizarÃ¡ XCode.En esos casos, es posible que deba volver aceptar la licencia.
<br>
<br>

### Homebrew

HomeBrew es un administrador de paquetes especÃ­fico de MacOS que utilizamos para facilitar la instalaciÃ³n de varios programas. Si bien la mayorÃ­a de las herramientas usarÃ¡n el administrador de paquetes conda, hay paquetes de software que se instalan mejor con Homebrew. El script de instalaciÃ³n que de ejecuciÃ³n es:

```bash
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/
Homebrew/install/master/install)"
```

>Nota: Puede ser necesario visitar el sitio de Homebrew (https://brew.sh/) por si la instalaciÃ³n se ha actualizado.

Una vez instalado, llame al programa tecleando:
```bash
brew
```


Este programa se puede utilizar para instalar otros programas de esta manera:
```bash
brew install <program name goes here>
```


Este programa se puede utilizar para instalar otros programas de esta manera:

Hay bastantes bibliotecas que las herramientas pueden requerir. Es mejor si se instalan de inmediato, tarde o temprano ejecutarÃ¡ una herramienta que los necesite:

```bash
brew install gd libharu git imagemagick lzo hdf5 bison wget findutils coreutils
```
Los comandos anteriores pueden tardar un tiempo en procesarse.
<br>
<br>

### java

El lenguaje de programaciÃ³n Java es esencial para muchas herramientas bioinformÃ¡ticas. Puedes escribir:
```bash
java
```

En tu terminal, sigue el botÃ³n "MÃ¡s informaciÃ³n" para acceder a la pÃ¡gina de descarga.

>Alternativamente, puede visitar la pÃ¡gina Java JDK para MacOS (https://www.oracle.com/java/technologies/javase-downloads.html).

Prueba tu instalaciÃ³n escribiendo:

```bash
java -version
```
<br>

----

### ğŸŒŠ Configurar computadora con Windows 10

A partir de la ediciÃ³n de aniversario de agosto de 2016, el sistema operativo Windows 10 admite la ejecuciÃ³n de software basado en Linux. 

El subsistema Linux para Windows es un entorno Linux totalmente configurable.

<img src="https://github.com/DonOrtiz/Bio_course/blob/main/ubuntu.jpeg" alt="ubuntu_image" width="150" height="200">

### Instalar Ubuntu Linux on Windows
1. Usa el menÃº Inicio para iniciar la aplicaciÃ³n **Microsoft Store**
2. Busca Ubuntu y seleccione el primer resultado, **"Ubuntu"**, publicado por *'Canonical Group Limited'*.
3. Haga clic en el botÃ³n Instalar.
<br>
<br>
### Ejecutar Ubuntu Linux

Haz doble clic en el icono del subsistema Ubuntu, la primera vez que esto comience, te pedirÃ¡ un nombre de usuario y contraseÃ±a. Haz que el nombre de usuario sea simple una palabra: "biouser" o algo similar como la ruta de su directorio personal incluirÃ¡ esta palabra. No lo quieres largo y complicado.

*Â¿CÃ³mo veo el sistema de archivos Unix de Windows?*
Por lo general, desearÃ­as poder acceder a los archivos desde Linux y con el Explorador de Windows. La configuraciÃ³n serÃ¡ algo tortuosa ya que el sistema de archivos Unix estÃ¡ escondido en algunos rincones oscuros de Windows.EspecÃ­ficamente, cuando instalas una aplicaciÃ³n Ubuntu, el sistema de archivos se ubicarÃ¡ en :

>C:\Usuarios\<Windows nombre de usuario de
Windows>\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_7
9rhkp1fndgsc\LocalState\rootfs\home\<nombre de usuario de Ubuntu>

AsÃ­ es como puede verlos cuando usas el Explorador de archivos en Windows:

<img src="https://github.com/DonOrtiz/Bio_course/blob/main/desktop.jpeg" alt="ubuntu_image" width="750" height="200">
<br>

Donde < nombre de usuario de Windows > y < nombre de usuario de Ubuntu > son los nombres de usuario configurados para Windows y Ubuntu, respectivamente.

Para acceder fÃ¡cilmente a esta ruta monstruosa, ubÃ­cala y luego haz clic con el botÃ³n derecho para crear un acceso directo en tu Escritorio. Con frecuencia necesitarÃ¡s abrir este acceso directo cuando accedas a los archivos que crees en Linux.
<br>
<br>
### Java

Algunas herramientas, como IGV, requerirÃ¡n ejecutar Java como una aplicaciÃ³n de Windows. AsegÃºrese de tener Java instalado cÃ³mo se describe en la documentaciÃ³n oficial en https://www.java.com/en/.

Una vez que el subsistema de Ubuntu estÃ¡ instalado como se indica anteriormente, puede tratar el terminal como una computadora Linux independiente.

### ğŸ§ConfiguraciÃ³n en una computadora Linux

Existen numerosas distribuciones de Linux con varios esquemas de nombres. Para configurar su sistema, los usuarios deberÃ¡n instalar paquetes a travÃ©s de los llamados gestores de paquetes: apt-get o yum en sistemas basados en Fedora.

Nuestros comandos asumen sistemas basados en Ubuntu/Debian. En Ubuntu Linux, inicia una "Terminal" y luego ejecuta lo siguiente:

```bash
sudo apt-get update && sudo apt-get upgrade -y
```

Estos comandos actualizarÃ¡n tu distribuciÃ³n (despuÃ©s de imprimir grandes cantidades de informaciÃ³n en la pantalla) y luego se actualizarÃ¡n todos los paquetes instalados.

Dependiendo de la configuraciÃ³n inicial de la distribuciÃ³n de Linux, uno puede necesitar instalar el paquete que se muestra a continuaciÃ³n. En Ubuntu es necesario lo siguiente:

```bash
sudo apt-get install -y curl unzip build-essential ncurses-dev
```
```bash
sudo apt-get install -y byacc zlib1g-dev python-dev git cmake
```
```bash
sudo apt-get install -y default-jdk ant
```

## 2. Instalar conda y activarlo

Pasos que deben seguirse:

1. Instalar conda
2. Actualizar conda a la Ãºltima versiÃ³n
3. Activa los canales de bioconda

### Entornos (Environments)

Los paquetes de software modernos son interdependientes. Cada programa puede depender de la presencia de uno o mÃ¡s software. A su vez, cada software requerido tambiÃ©n puede necesitar otro programa para estar presente, y asÃ­ sucesivamente.

Entonces, el software A solo puede interactuar adecuadamente con una versiÃ³n especÃ­fica del software B. Por esa razÃ³n, puede haber conflictos entre los diferentes requerimientos.

Estos conflictos se resuelven creando instalaciones aisladas donde solo se agrupa el software compatible. Las instalaciones aisladas se denominan entornos (environments). Para configurar y administrar nuestro entorno, utilizaremos el instalador de conda en todas las plataformas.

En MacOS tambiÃ©n podemos usar el administrador de paquetes homebrew ademÃ¡s de conda. Conda es un sistema de gestiÃ³n de paquetes de cÃ³digo abierto y un sistema de gestiÃ³n del entorno para instalar mÃºltiples versiones de paquetes de software y sus dependencias. Funciona en Linux, OS X y Windows, fue creado para programas de Python pero puede empaquetar y distribuir cualquier software.

Utilizaremos una versiÃ³n llamada bioconda personalizada para instalar paquetes de bioinformÃ¡tica. DeberÃ¡ instalar conda y luego tocar los canales que corresponden a bioconda.

### InstalaciÃ³n de Conda

Comienza instalando miniconda, una versiÃ³n simplificada de conda. Para MacOS, el enlace (URL) al instalador es:

URL=https://repo.continuum.io/miniconda/Miniconda3-latest-MacOSX- x86_64.sh

Para Linux y Windows Bash, la URL es: URL=https://repo.continuum.io/miniconda/Miniconda3-latest-Linux- x86_64.sh

Para descargar el tipo de instalador:

```bash
curl $URL > miniconda-installer.sh
```

```bash
bash miniconda-installer.sh -b
```

Una vez que se complete la instalaciÃ³n, deberas inicializar el entorno conda con:
```bash
miniconda3/condabin/conda init
```

Ten en cuenta el mensaje: For changes to take effect, close and re-open your current shell.

Cierra la terminal y abre una nueva para activar Conda. Comprueba que funcionÃ³ escribiendo:

```bash
conda --version
```
<br>

### Instalar bioconda
**Bioconda** es un canal para distribuir software de bioinformÃ¡tica que se puede habilitar en el administrador de paquetes de Conda. Ejecuta lo siguiente en tu terminal:

```bash
conda config --add channels bioconda
```
```bash
conda config --add channels conda-forge
```


El canal bioconda ahora estÃ¡ activo dentro del administrador de paquetes conda.

### Crear un entorno bioinformÃ¡tico
Una vez que hayas instalado y actualizado conda, crea un entorno.
```bash
conda --version
```
conda create -y --name bioinfo python=3.6


**Nota: estos comandos pueden variar con respecto a la versiÃ³n de conda instalada en caso de no funcionar buscar la ejecuciÃ³n correspondiente a su versiÃ³n**

Cierra y vuelve a abrir tu terminal. Esta es la Ãºltima vez que necesitas volver a abrir tu terminal durante la instalaciÃ³n :-)

Para revisar si estÃ¡ instalado el entorno bioinfo ejecuta
```bash
conda info --envs
```
Te debe aparecer algo parecido a esto:

<img src="https://github.com/DonOrtiz/Bio_course/blob/main/command.jpeg" alt="ubuntu_image" width="250" height="300">
<br>


Copia la pantalla de la terminal y sÃºbela come evidencia a donde te indique el profesor.

Â¡Felicidades ya estas listo para hacer bioinformÃ¡tica en tu computadora!

# Referencias ğŸ“š
GrÃ¼ning, BjÃ¶rn, Ryan Dale, Andreas SjÃ¶din, Brad A. Chapman, Jillian Rowe, Christopher H. Tomkins-Tinch, Renan Valieris, the Bioconda Team, and Johannes KÃ¶ster. 2018. â€œBioconda: Sustainable and Comprehensive Software Distribution for the Life Sciencesâ€. Nature Methods, 2018 doi:10.1038/s41592-018-0046-7.

Anaconda Software Distribution. (2021).Â Anaconda Documentation. Anaconda Inc. Retrieved from https://docs.anaconda.com/

Parnell LD, Lindenbaum P, Shameer K, Dall'Olio GM, Swan DC, et al. (2011) BioStar: An Online Question & Answer Resource for the Bioinformatics Community. PLoS Comput Biol 7(10): e1002216.

Albert IstvÃ¡n. (2021, September 01) Biostar Handbook. Retrieved from https://www.biostarhandbook.com
